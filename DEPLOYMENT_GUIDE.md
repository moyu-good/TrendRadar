# 🚀 GitHub Actions 部署完整指南

## 📋 项目状态检查

您的TrendRadar项目已经准备就绪！✅

### 已完成的配置：
- ✅ AI增强报告生成器 (`simple_ai_report.py`)
- ✅ AI邮件发送器 (`send_ai_report_email.py`)
- ✅ GitHub Actions工作流 (`daily-ai-report.yml`)
- ✅ 邮件功能测试 (`test_email_function.py`)
- ✅ 完整的配置文件

## 🎯 接下来的步骤

### 1️⃣ 推送代码到GitHub

首先，确保所有文件都已添加到您的GitHub仓库：

```bash
# 如果您还没有初始化git仓库
git init
git remote add origin https://github.com/您的用户名/TrendRadar.git

# 添加所有文件
git add .
git commit -m "添加AI增强报告和GitHub Actions工作流"
git push origin main
```

### 2️⃣ 配置GitHub Secrets

进入您的GitHub仓库，按以下步骤操作：

1. 点击 `Settings` → `Secrets and variables` → `Actions`
2. 点击 `New repository secret`
3. 添加以下必需的secrets：

#### 必需参数：
- **SENDER_EMAIL**: `1249510763@qq.com`
- **SENDER_PASSWORD**: `nvynsqarwowkbace` (您的QQ邮箱授权码)
- **RECIPIENT_EMAIL**: `1249510763@qq.com` (接收报告的邮箱)

#### 可选参数：
- **SMTP_SERVER**: `smtp.qq.com` (默认)
- **SMTP_PORT**: `587` (默认)

### 3️⃣ 手动测试工作流

1. 进入 `Actions` 标签页
2. 选择 `📧 每日AI热点报告推送` 工作流
3. 点击 `Run workflow` → `Run workflow`
4. 等待执行完成（约2-3分钟）

### 4️⃣ 验证部署成功

#### 成功标志：
- ✅ 工作流运行状态显示绿色勾号
- ✅ 收到测试邮件（检查收件箱和垃圾邮件）
- ✅ 日志中显示"邮件发送成功"

#### 失败排查：
- ❌ 检查GitHub Secrets配置是否正确
- ❌ 查看Actions日志获取详细错误信息
- ❌ 验证邮箱授权码是否有效

## 📊 工作流配置说明

### 定时设置
- **执行时间**: 每天 UTC 00:00
- **对应时间**: 北京时间 8:00 AM / 日本时间 9:00 AM
- **推送频率**: 每天一次（避免重复）

### 监控平台
默认监控以下平台：
- 📱 今日头条
- 🔍 百度热搜
- 💰 华尔街见闻
- 📰 澎湃新闻
- 📺 哔哩哔哩热搜
- 💼 财联社热门
- 🕊️ 凤凰网
- 💬 贴吧
- 🔥 微博
- 🎵 抖音
- 🧠 知乎

### AI分析功能
- 🔍 **平台对比分析**: 比较不同平台的热点关注度
- 🚨 **异常热度检测**: 识别热度突增的话题
- 🔗 **关键词共现分析**: 发现关键词之间的关联
- 💡 **智能推荐**: 基于AI分析提供个性化建议

## 📧 邮件内容预览

您将收到包含以下内容的AI增强报告：

```
主题：🤖 AI热点分析 11月13日 - 智能新闻洞察

📊 基础统计
• 总新闻数: 156条
• 监控平台: 11个主流平台

🔍 AI智能洞察
• 📈 平台对比分析 - 各平台热度排名
• 🚨 异常热度检测 - 突增话题识别
• 🔗 关键词共现模式 - 话题关联分析

💡 智能推荐
• 🔥 热点关注建议
• 📈 平台策略建议
• 🔍 关键词组合推荐
```

## 🔧 故障排查指南

### 常见问题解决

#### 1. 邮件发送失败
```
错误：邮箱认证失败
解决：检查SENDER_PASSWORD是否为QQ邮箱授权码（不是QQ密码）
```

#### 2. 工作流执行失败
```
错误：找不到配置文件
解决：确保config.yaml文件存在于config目录下
```

#### 3. 没有收到邮件
```
检查：查看垃圾邮件文件夹
验证：确认RECIPIENT_EMAIL地址正确
测试：使用test_email_function.py验证邮件功能
```

### 查看日志
1. 进入 `Actions` 标签页
2. 点击具体的工作流运行记录
3. 展开失败的步骤查看详细日志
4. 下载日志文件进行深入分析

## ⚙️ 自定义配置

### 修改发送时间
编辑 `.github/workflows/daily-ai-report.yml`：
```yaml
schedule:
  - cron: '0 0 * * *'  # 修改这里的cron表达式
```

### 调整监控平台
编辑 `config/config.yaml` 中的 `platforms` 部分：
```yaml
platforms:
  - id: "toutiao"
    name: "今日头条"
  # 添加或删除平台...
```

### 设置关键词筛选
编辑 `config/frequency_words.txt`：
```
人工智能
比亚迪
教育政策
```

## 📈 免费额度说明

GitHub Actions 免费额度（每月）：
- ⏱️ **2000分钟** 运行时间（足够使用）
- 📦 **500MB** 存储空间
- 🚫 **无并发限制**（公共仓库）

本工作流每次运行约消耗 **2-3分钟**，完全在免费额度内。

## 🎉 部署成功确认

完成以上步骤后，您将：
- ✅ **每天自动收到**AI增强版热点新闻分析
- ✅ **享受智能洞察**和个性化推荐
- ✅ **完全免费**使用，无需服务器成本
- ✅ **无需维护**，GitHub自动管理

## 📞 技术支持

如遇到问题：
1. 🔍 查看GitHub Actions详细日志
2. 📧 验证邮箱配置和授权码
3. 🌐 检查网络连接状态
4. 🔄 重新运行工作流测试

---

**🎊 恭喜！您已成功配置免费的AI增强新闻分析服务！**

明天上午9点（日本时间），您将收到第一份AI智能分析的热点报告！🚀

如需进一步帮助，请随时联系。